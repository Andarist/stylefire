<html>
  <head>
    <script type="text/javascript" src="https://unpkg.com/popmotion@7.8.2/dist/popmotion.global.min.js"></script>
    <script type="text/javascript" src="dist/stylefire.min.js"></script>
  </head>
  <body>
    <svg class="progress-icon" width="250" height="250" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg">
    <g class="tick-icon" stroke-width="2" stroke="#fff" fill="none" transform="translate(1, 1.2)">
        <path id="tick-outline-path" d="M14 28c7.732 0 14-6.268 14-14S21.732 0 14 0 0 6.268 0 14s6.268 14 14 14z" opacity="0" />
        <path id="tick-path" d="M6.173 16.252l5.722 4.228 9.22-12.69" opacity="0"/>
    </g>
</svg>
    <style>
      html {
    min-height: 100%
}

body {
    background: linear-gradient(135deg, #2f47f7, #c62ff7);
}

svg {
    position: absolute;
    top: 50%;
    left: 50%;
    margin-left: -125px;
    margin-top: -125px;
}
    </style>
    <script>
      const { tween, physics, easing, transform } = window.popmotion;
const { easeIn } = easing;
const { interpolate } = transform;

function showTick() {
    const circleStyler = styler(document.getElementById('tick-outline-path'));
    const tickStyler = styler(document.getElementById('tick-path'));
    
    const spinCircle = physics({
        velocity: -400,
        onUpdate: (v) => circleStyler.set('rotate', v)
    });
    
    const mapCircleOpacityToLength = interpolate([0, 1], [0, 65]);
    const openOutline = tween({
        ease: easeIn,
        onUpdate: (v) => circleStyler.set({
            opacity: v,
            pathLength: mapCircleOpacityToLength(v)
        }),
        onComplete: () => spinCircle.start()
    }).start();

    setTimeout(() => {
      console.log(circleStyler.get('pathLength'))
        // Complete the circle
        tween({
            from: circleStyler.get('pathLength'),
            to: 100,
            onUpdate: (v) => circleStyler.set('pathLength', v)
        }).start();
        
        // Slow the spinning
        spinCircle.setProps({
            friction: 0.6
        });
        
        // Draw tick
        tween({
            onUpdate: (v) => tickStyler.set({
                opacity: v,
                pathLength: v * 100
            })
        }).start();
    }, 2000);
}

if (document.readyState != 'loading') {
    showTick();
} else {
    document.addEventListener('DOMContentLoaded', showTick);
}
    </script>
  </body>
</html>